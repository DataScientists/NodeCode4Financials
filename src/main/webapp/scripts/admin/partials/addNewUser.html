<md-dialog aria-label="Add User" style="margin:0 0 0 0;padding:0 0 0 0;"
	ng-cloak>  
	<md-toolbar>
	<div class="md-toolbar-tools">
		<h2>Add User</h2>
		<span flex></span>
		<md-button class="md-icon-button" ng-click="vm.cancel()"> <span
			class="glyphicon glyphicon-remove" aria-hidden="true"></span> </md-button>
	</div>
	</md-toolbar>
	<toast></toast>
	<md-dialog-content style="width:510px;">
	
	<div class="md-dialog-content">
		<div layout="column" ng-cloak class="md-inline-form">
			<md-content>
			<form name="newUserForm" class="navbar-form" id="newUserForm"
				ng-submit="vm.addUserBtn(vm.newUser)" novalidate>  
				 <div  layout-gt-sm="row">
					<md-input-container class="md-block" flex-gt-sm>
					<label>*Username</label> 
					<input required ng-minlength="5" ng-maxlength="20" name="userName" user-exist ng-model="vm.newUser.userName"ng-model-options="{ debounce : { 'default' : 500, blur : 0 } }" /> 
						<div class="help-block" ng-messages="newUserForm.userName.$error" ng-if="newUserForm.userName.$touched"  class="errors">
					        <p ng-message="minlength">username is too short.</p>
					        <p ng-message="maxlength">username is too long.</p>
					        <p ng-message="required">username is required.</p>
					        <p ng-message="userExist">username is already registered.</p>
					    </div>
					    <div ng-if="newUserForm.userName.$pending">
						   <p> Checking Username...</p>
						  </div>
						</md-input-container>
					<div flex="5" hide-xs hide-sm>
						<!-- Spacer //-->
					</div>
					<md-input-container class="md-block" flex-gt-sm>
					<label>*Password</label> 
					<input type="password" required ng-minlength="6" ng-maxlength="12" name="password"	ng-model="vm.newUser.password" password-characters-validator/>
					<div class="help-block" ng-messages="newUserForm.password.$error" ng-if="newUserForm.password.$touched">
					        <p ng-message="required">password is required.</p>
					         <p ng-message="minlength">password is too short.</p>
					        <p ng-message="maxlength">password is too long.</p>
					         <p ng-message="passwordCharacters">Your password must contain a number, uppercase and lowercase letters as well as one or more special characters</p>
					        
					    </div>
					</md-input-container>
				</div>  	
				<div layout-gt-sm="row">
					<md-input-container class="md-block" flex-gt-sm>
					<label>*Contact Firstname</label>
					 <input required  name="firstName" ng-model="vm.newUser.firstName" /> 
						<div class="help-block" ng-messages="newUserForm.firstName.$error" ng-if="newUserForm.firstName.$touched">
					        <p ng-message="required">firstname is required.</p>
					    </div>
						
						
						</md-input-container>
					<div flex="5" hide-xs hide-sm>
						<!-- Spacer //-->
					</div>
					<md-input-container class="md-block" flex-gt-sm>
					<label>*Contact Lastname</label> 
					<input required	 name="lastName"	ng-model="vm.newUser.lastName" />	
					<div class="help-block" ng-messages="newUserForm.lastName.$error" ng-if="newUserForm.lastName.$touched">
					        <p ng-message="required">lastname is required.</p>
					    </div>
					
					</md-input-container>
				
				</div>
			    <div layout-gt-sm="row">
					<md-input-container class="md-block" flex-gt-sm>
					<label>*Email</label> 
					<input type="email" required minlength="10"	maxlength="100" ng-pattern="/^.+@.+\..+$/" name="email"
						ng-model="vm.newUser.email" email-exist /> 
						<div class="help-block" ng-messages="newUserForm.email.$error" ng-if="newUserForm.email.$touched">
					        <p ng-message="required">email is required.</p>
					        <p ng-message="pattern">Please enter valid email.</p>
					        <p ng-message="emailExist">Email already registered.</p>
					    </div>
					    </md-input-container>
					<div flex="5" hide-xs hide-sm>
						<!-- Spacer //-->
					</div>
					<md-input-container class="md-block" flex-gt-sm>
					<label>*State</label> <md-select required ng-model="vm.newUser.state" name="state">
					
					<md-option ng-repeat="state in vm.states" 
					value="{{state.name}}">
					{{state.name}} </md-option> </md-select>
					<div class="help-block" ng-messages="newUserForm.state.$error" ng-if="newUserForm.state.$touched">
					        <p ng-message="required">Please select state.</p>
					        
					    </div>
					</md-input-container>
				</div>
				<div layout-gt-sm="row">
					 <md-input-container class="md-block" flex-gt-sm>
					<label>*Role</label> <md-select multiple required ng-model="vm.newUser.roles"  name="roles">
					<md-option ng-repeat="role in vm.roleList" 
					value="{{role}}">
					{{role.name}} </md-option> </md-select>
					<div class="help-block" ng-messages="newUserForm.roles.$error" ng-if="newUserForm.roles.$touched">
					        <p ng-message="required">Please select role.</p>
					        
					    </div>
					</md-input-container>
					</div>				
				<md-dialog-actions layout="row">
					<md-button ng-click="vm.cancel()" class="md-raised">Cancel</md-button>
					<md-button ng-disabled="newUserForm.$invalid" type="submit" ng-click="vm.addUserBtn(vm.newUser)" class="md-raised">Submit</md-button>
				</md-dialog-actions>
			</form>
			</md-content>
		</div>
	</div>
	</md-dialog-content>

</md-dialog>